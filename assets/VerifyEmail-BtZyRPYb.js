import{r as n,b as f,j as e,a_ as p,a$ as j,bM as v,V as y,bD as d}from"./index-W2AL0DnC.js";const N=()=>{const[c,o]=n.useState(null),[m,s]=n.useState(!1),[a,u]=f(),[r,h]=n.useState(""),[i,x]=n.useState(""),g=async t=>{try{s(!0),await d.confirmSignUp(r,t.code),s(!1),x("Your email has been successfully verified!"),setTimeout(()=>{a.set("auth","signin"),a.set("email",r),u(a)},1e3)}catch(l){o(l.message),s(!1)}};n.useEffect(()=>{h(a.get("email")??"")},[a]);const b=()=>{s(!0),d.resendSignUp(r).then(()=>{s(!1)}).catch(t=>{o(t.message),s(!1)})};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative pb-4",children:[e.jsx("h1",{className:"mb-4 text-4xl font-bold text-purple-500",children:"Email Verification"}),e.jsx(p,{initialValues:{code:""},onSubmit:g,children:t=>e.jsxs(j,{children:[e.jsxs("div",{className:"mb-4 text-sm",children:["Enter the code sent to ",r]}),e.jsx("div",{className:"",children:e.jsx(v,{value:t.values.code,valueLength:6,onChange:l=>{t.handleChange("code")(l)}})}),c&&e.jsx("div",{className:"mt-1 text-sm text-red-500",children:c}),i&&e.jsx("div",{className:"mt-2 px-2 text-center text-sm text-green-500",children:i}),m&&e.jsx("div",{className:"bg-white absolute inset-0 z-50 flex items-center justify-center bg-white-500 bg-opacity-50",children:e.jsx(y,{size:40})}),e.jsxs("div",{className:"my-6 flex w-full justify-center text-sm",children:[e.jsx("span",{className:"pr-1 text-center",children:"Didn't receive the code?"}),e.jsx("button",{onClick:b,className:" font-bold text-green-500 underline hover:text-green-600",type:"button",children:"Resend"})]}),e.jsx("button",{className:"mb-4 w-full rounded-lg bg-purple-500 py-4 text-sm font-bold text-white-500 hover:bg-purple-600",type:"submit",disabled:m||i.length>0,children:"Verify Email"})]})})]})})};export{N as default};
