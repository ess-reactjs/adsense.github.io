import{aP as _,aQ as b,aR as N,K as y,j as e,L as A,r as m,aS as T,aT as M,f as k,aK as H,u as I,aL as F,b as v,t as Z,aG as O,aU as $,aV as R,aD as K,aN as j}from"./index-W2AL0DnC.js";import{S as D}from"./index-CNUbkglh.js";import{S as V,M as W,a as U}from"./slick-M9OtyDn-.js";import{B as z}from"./index-S1YyA5q5.js";import{P as q}from"./index-D508eMV_.js";const G=r=>_({queryKey:["banners",{s3BucketBaseURL:r}],queryFn:Q,refetchOnWindowFocus:!1,refetchOnReconnect:!1}),Q=async({queryKey:r})=>{const[c,{s3BucketBaseURL:a}]=r;try{const s=await b.get(`${a}${N.banners}?t=${Date.now()}`);if(s.status!==200)throw new Error(`Failed to fetch banners: ${s.statusText}`);return s.data}catch(s){throw console.error("Error fetching banners:",s),s}},J=r=>_({queryKey:["categories",{s3BucketBaseURL:r}],queryFn:X,refetchOnWindowFocus:!1,refetchOnReconnect:!1}),X=async({queryKey:r})=>{const[c,{s3BucketBaseURL:a}]=r;try{const s=await b.get(`${a}${N.categories}?t=${Date.now()}`);if(s.status!==200)throw new Error(`Failed to fetch categories: ${s.statusText}`);return s.data}catch(s){throw console.error("Error fetching categories:",s),s}},Y=()=>{const r=y(),{data:c}=J(r.AWS_S3_DATA_BUCKET_BASE_URL);return e.jsxs("div",{className:"hp__Offers",children:[e.jsx("h2",{className:"section__heading fw-500 flex items-center uppercase",children:"categories to explore"}),e.jsx("div",{className:"hp__Offerarea",children:c&&c.map(a=>e.jsxs("div",{className:"hp__Offer",children:[e.jsx("div",{className:"hp__Offer-img",children:e.jsx("img",{src:a.category_background_image_url,alt:a.category_title})}),e.jsxs("div",{className:"hp__Offer-content",children:[e.jsx("h3",{children:a.category_title}),e.jsx(A,{to:`/products/category/${a.category_title}`,className:"arrow_circle",onClick:()=>window.scroll({top:0,behavior:"smooth"}),children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M8 15L15 8M15 8L8 1M15 8H1",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]},a.category_title))})]})},e2=()=>{const r=y(),{data:c}=G(r.AWS_S3_DATA_BUCKET_BASE_URL),{homepageEnabled:a,homepageTop:s}=m.useContext(T),h={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!1,autoplaySpeed:4e3},g=c?a&&s?[...c,{isAd:!0}]:c:[],l=n=>["one","two","three","four"][n];return e.jsx("div",{className:"homeBanner primary_color",id:"homeBanner",children:e.jsx(V,{...h,children:g.map((n,d)=>n.isAd?e.jsx(M,{className:"h-80 w-full"},`ad-${d}`):e.jsxs("div",{className:`banneritems ${l(d)}`,children:[e.jsx("div",{className:"bannerh_left",children:e.jsxs("div",{className:"bannerh__content",children:[e.jsx("span",{children:n.vendor_name}),e.jsx("h2",{children:n.banner_title})]})}),e.jsx("div",{className:"bannerh_right",children:e.jsx("img",{src:n.banner_url,alt:`Banner Image ${d}`})})]},`banner-${d}`))})})},s2="data:image/svg+xml,%3csvg%20width='37'%20height='37'%20viewBox='0%200%2037%2037'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='37'%20height='37'%20rx='18.5'%20fill='%23FFE5FB'/%3e%3cpath%20d='M11.6762%2026.3443L11.6759%2026.3442C10.8842%2026.2438%2010.2195%2026.9085%2010.3199%2027.7002L10.32%2027.7005C10.3874%2028.2369%2010.8229%2028.6724%2011.3593%2028.7398L11.3596%2028.7399C12.1513%2028.8403%2012.816%2028.1756%2012.7156%2027.3839L11.6762%2026.3443ZM11.6762%2026.3443C12.2123%2026.4117%2012.6473%2026.847%2012.7156%2027.3839L11.6762%2026.3443Z'%20stroke='%2362096C'%20stroke-width='0.5'/%3e%3cpath%20d='M17.2361%2027.3837C17.3351%2028.176%2016.6706%2028.8403%2015.8801%2028.7399L15.8798%2028.7399C15.3434%2028.6724%2014.908%2028.237%2014.8405%2027.7005L14.8404%2027.7003C14.74%2026.9086%2015.4047%2026.2439%2016.1964%2026.3443L16.1966%2026.3443C16.7324%2026.4118%2017.1686%2026.8474%2017.2361%2027.3837Z'%20stroke='%2362096C'%20stroke-width='0.5'/%3e%3cpath%20d='M8%2011.0882H21.897L20.9706%2013.25H10.4706V17.2647H19.4265L18.5%2019.4265H10.4706V22.5147H18.5L24.6765%208H29L28.0735%2010.1618H26.2206L19.7353%2024.9853H8V11.0882Z'%20stroke='%2362096C'%20stroke-width='0.5'/%3e%3c/svg%3e",t2="data:image/svg+xml,%3csvg%20width='41'%20height='40'%20viewBox='0%200%2041%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='0.666626'%20width='40'%20height='40'%20rx='20'%20fill='%23FFE5FB'/%3e%3cg%20clip-path='url(%23clip0_1855_386)'%3e%3cpath%20d='M32.6479%2024.3875L28.1479%209.575C28.0916%209.3875%2027.9041%209.275%2027.7166%209.3125L23.5166%2010.0812C23.0854%208.675%2021.6229%207.775%2020.1229%208.05625C18.6229%208.31875%2017.5916%209.6875%2017.6666%2011.1687L13.4666%2011.9375C13.3354%2011.9562%2013.2229%2012.0687%2013.1854%2012.2L8.68538%2027.0125C8.66663%2027.05%208.66663%2027.0875%208.66663%2027.125C8.66663%2029.8062%2010.8604%2032%2013.5416%2032C16.2229%2032%2018.4166%2029.8062%2018.4166%2027.125C18.4166%2027.0875%2018.4166%2027.05%2018.3979%2027.0125L14.0291%2012.6125L17.8166%2011.9187C18.2104%2013.1562%2019.3729%2014%2020.6666%2014C20.8354%2014%2021.0229%2013.9812%2021.2104%2013.9437C22.7104%2013.6625%2023.7416%2012.3125%2023.6666%2010.8312L27.2666%2010.1562L22.9541%2024.3875C22.9166%2024.425%2022.9166%2024.4625%2022.9166%2024.5C22.9166%2027.1812%2025.1104%2029.375%2027.7916%2029.375C30.4729%2029.375%2032.6666%2027.1812%2032.6666%2024.5C32.6666%2024.4625%2032.6666%2024.425%2032.6479%2024.3875ZM13.5416%2031.25C11.3854%2031.25%209.62288%2029.6%209.43538%2027.5H17.6479C17.4604%2029.6%2015.6979%2031.25%2013.5416%2031.25ZM11.8916%2026.75C12.0604%2026%2012.7354%2025.4375%2013.5416%2025.4375C14.3479%2025.4375%2015.0229%2026%2015.1916%2026.75H11.8916ZM17.5354%2026.75H15.9416C15.7541%2025.5875%2014.7604%2024.6875%2013.5416%2024.6875C12.3229%2024.6875%2011.3104%2025.5875%2011.1416%2026.75H9.54788L13.5416%2013.6062L17.5354%2026.75ZM21.0791%2013.2125C19.8604%2013.4375%2018.6791%2012.6312%2018.4541%2011.3937C18.3416%2010.7937%2018.4729%2010.2125%2018.8104%209.70625C19.1479%209.21875%2019.6729%208.88125%2020.2541%208.76875C20.4041%208.76875%2020.5354%208.75%2020.6666%208.75C21.7354%208.75%2022.6729%209.51875%2022.8791%2010.5875C23.1041%2011.825%2022.2979%2012.9875%2021.0791%2013.2125ZM27.7916%2010.9812L31.7854%2024.125H30.3416L28.0729%2021.8562C27.9229%2021.7062%2027.6979%2021.7062%2027.5479%2021.8562L25.2416%2024.125H23.7979L27.7916%2010.9812ZM29.2729%2024.125H26.3104L27.7916%2022.6437L29.2729%2024.125ZM27.7916%2028.625C25.6354%2028.625%2023.8729%2026.975%2023.6854%2024.875H31.8979C31.7104%2026.975%2029.9479%2028.625%2027.7916%2028.625Z'%20fill='%2362096C'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_1855_386'%3e%3crect%20width='24'%20height='24'%20fill='white'%20transform='translate(8.66663%208)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",a2="/assets/premium-icon3-DkyzWrvb.svg",r2="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='40'%20height='40'%20rx='20'%20fill='%23FFE5FB'/%3e%3cpath%20d='M20.3133%2018.0982C20.2688%2018.0885%2020.2233%2018.0868%2020.1783%2018.0935C19.7276%2018.0411%2019.3875%2017.6597%2019.3867%2017.2061C19.3867%2016.9887%2019.2105%2016.8124%2018.9931%2016.8124C18.7757%2016.8124%2018.5994%2016.9887%2018.5994%2017.2061C18.6006%2017.9636%2019.1073%2018.6271%2019.8377%2018.8276V19.2213C19.8377%2019.4387%2020.014%2019.615%2020.2314%2019.615C20.4488%2019.615%2020.625%2019.4387%2020.625%2019.2213V18.8515C21.4681%2018.675%2022.0411%2017.8898%2021.9525%2017.0331C21.8637%2016.1763%2021.1419%2015.5253%2020.2806%2015.5251C19.7869%2015.5251%2019.3867%2015.1249%2019.3867%2014.6312C19.3867%2014.1376%2019.7869%2013.7374%2020.2806%2013.7374C20.7742%2013.7374%2021.1744%2014.1376%2021.1744%2014.6312C21.1744%2014.8487%2021.3507%2015.0249%2021.5681%2015.0249C21.7855%2015.0249%2021.9617%2014.8487%2021.9617%2014.6312C21.9606%2013.8358%2021.4033%2013.1498%2020.625%2012.9856V12.6273C20.625%2012.4099%2020.4488%2012.2337%2020.2314%2012.2337C20.014%2012.2337%2019.8377%2012.4099%2019.8377%2012.6273V13.0097C19.0254%2013.2315%2018.5025%2014.0202%2018.6144%2014.8548C18.7263%2015.6894%2019.4385%2016.3124%2020.2806%2016.3122C20.7677%2016.3122%2021.165%2016.7022%2021.1738%2017.1891C21.1829%2017.676%2020.8%2018.0805%2020.3133%2018.0982Z'%20fill='%2362096C'/%3e%3cpath%20d='M14.572%2015.9489C14.572%2019.1017%2017.1278%2021.6575%2020.2806%2021.6575C23.4334%2021.6575%2025.9892%2019.1017%2025.9892%2015.9489C25.9892%2012.7961%2023.4334%2010.2403%2020.2806%2010.2403C17.1293%2010.2438%2014.5757%2012.7977%2014.572%2015.9489ZM20.2806%2011.0277C22.9986%2011.0277%2025.2019%2013.2309%2025.2019%2015.9489C25.2019%2018.6669%2022.9986%2020.8702%2020.2806%2020.8702C17.5626%2020.8702%2015.3594%2018.6669%2015.3594%2015.9489C15.3624%2013.2323%2017.5639%2011.0308%2020.2806%2011.0277Z'%20fill='%2362096C'/%3e%3cpath%20d='M27.9298%2022.628L24.846%2024.0851C24.4203%2023.2931%2023.6035%2022.7891%2022.7047%2022.7637L19.8579%2022.6855C19.4071%2022.6726%2018.9648%2022.5585%2018.564%2022.3514L18.2744%2022.2013C16.7912%2021.4282%2015.0233%2021.4301%2013.5417%2022.2063L13.5598%2021.5501C13.5657%2021.3327%2013.3944%2021.1516%2013.177%2021.1456L10.0554%2021.0597C9.83796%2021.0537%209.65708%2021.225%209.65112%2021.4424L9.46255%2028.2928C9.45659%2028.5102%209.62786%2028.6913%209.84527%2028.6972L12.9669%2028.7832H12.9777C13.1911%2028.7832%2013.3656%2028.6134%2013.3714%2028.4003L13.3804%2028.0725L14.1914%2027.6383C14.5097%2027.467%2014.8818%2027.4263%2015.2296%2027.5247L20.0724%2028.8839C20.0809%2028.8864%2020.0893%2028.8883%2020.098%2028.8902C20.448%2028.9635%2020.8048%2029.0002%2021.1623%2029C21.9196%2029.0004%2022.6682%2028.8372%2023.3565%2028.5212C23.3734%2028.5135%2023.3898%2028.5044%2023.4053%2028.4943L30.427%2023.9524C30.6019%2023.8392%2030.6584%2023.6095%2030.556%2023.4281C30.0347%2022.5031%2028.8784%2022.1508%2027.9298%2022.628ZM10.2605%2027.921L10.4273%2021.8576L12.7618%2021.9218L12.595%2027.9854L10.2605%2027.921ZM23.0019%2027.818C22.1467%2028.204%2021.1915%2028.3105%2020.2723%2028.1227L15.4426%2026.7669C14.899%2026.6134%2014.3171%2026.677%2013.8198%2026.9444L13.4054%2027.1664L13.5163%2023.1349C14.8296%2022.2615%2016.5138%2022.1717%2017.9124%2022.9004L18.2021%2023.0505C18.7084%2023.312%2019.2668%2023.4561%2019.8364%2023.4727L22.6833%2023.5509C23.483%2023.574%2024.1621%2024.1433%2024.3243%2024.9268L20.0837%2024.8098C19.8663%2024.8038%2019.6855%2024.9753%2019.6793%2025.1925C19.6734%2025.4099%2019.8448%2025.5909%2020.062%2025.5969L24.7418%2025.7257H24.7528C24.966%2025.7255%2025.1403%2025.5558%2025.1461%2025.3428C25.1509%2025.1717%2025.1382%2025.0004%2025.108%2024.832L28.271%2023.3375C28.2741%2023.3362%2028.2772%2023.3346%2028.2803%2023.3331C28.7289%2023.1061%2029.2713%2023.182%2029.6404%2023.5236L23.0019%2027.818Z'%20fill='%2362096C'/%3e%3c/svg%3e",C=({image:r,text:c,tooltipText:a,imageWidth:s=40,imageHeight:h=40,leftPosition:g=0})=>{const[l,n]=m.useState(!1),d=k("(max-width: 1023px)");return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"ProductItemTitleMain mobile-advantage-feature relative",onClick:()=>{d&&n(!0)},children:[e.jsxs("p",{className:"PremiumOffer_list ProductItemTitleMain relative",children:[e.jsx("img",{src:r,alt:"icon",width:s,height:h}),e.jsx("p",{className:"fw-400",children:c})]}),e.jsx("div",{className:"custom-tooltip",style:{left:g},children:a})]}),e.jsx(W,{modalWidth:"35%",shouldShow:l,onClose:()=>n(!1),shouldClose:!0,className:"w-[200px] text-center",textColor:"text-purple-500",children:e.jsx(U,{image:r,imageWidth:40,imageHeight:40,title:c,text:a,action:e.jsx("div",{className:"w-full",children:e.jsx(z,{colorTheme:"purple",variant:"outline",className:"w-full p-4 px-6",onClick:()=>n(!1),children:"Close"})})})})]})},o2=()=>e.jsxs("div",{className:"PremiumOffer-area",id:"features",children:[e.jsx("div",{className:"PremiumOffer PremiumGet",children:e.jsxs("div",{className:"bannerh__content",children:[e.jsx("h2",{className:"fw-700",children:"KARTIE Advantage"}),e.jsxs("div",{className:"pr-8",children:[e.jsx("p",{className:"mb-8",children:"Skip the shopping struggles and unlock savings with KARTIE! Compare prices across retailers and curate carts from multiple stores. Move items between carts to find the best deals. KARTIE uses cutting-edge technology to analyze your carts and suggest optimized item re-distribution for maximum savings, factoring in shipping costs and your active memberships. Track your spending and total savings with us."}),e.jsx("p",{className:"fw-600",children:"Shop smarter, not harder, with KARTIE!"})]})]})}),e.jsxs("div",{className:"PremiumOffer_area",children:[e.jsx(C,{image:t2,text:"Price Compare",tooltipText:"Compare prices across retailers and find the best deals in one place without juggling multiple browser tabs."}),e.jsx(C,{image:s2,text:"Multi-Cart",tooltipText:"Curate carts from multiple retailers on KARTIE to find the best deals with a side-by-side view."}),e.jsx(C,{image:a2,text:"Smart Move",tooltipText:"Manually move items from one cart to another to instantly compare prices and discover similar products across retailers."}),e.jsx(C,{image:r2,text:"Smart Savings",tooltipText:"Analyze your carts, compare prices across all available stores, and search for deals you may have missed.",leftPosition:-60})]})]}),L=({text:r})=>e.jsx("h2",{"data-testid":"title",className:"section__heading fw-500 flex items-center uppercase",children:r}),m2=()=>{var w;const{data:r,error:c,isLoading:a,refetch:s}=H(),{homepageEnabled:h,homepageBottom:g}=m.useContext(T),{user:l}=I(),{data:n,isLoading:d}=F(),[i,S]=v(),p=r,[u,f]=m.useState(0),B=k("(max-width: 639px)"),E=()=>{const[t]=v();return m.useEffect(()=>{t.get("store")&&window.scroll({top:0,behavior:"smooth"})},[t.get("store")]),null};c&&Z("Error fetching products","error",8);const x=O();m.useEffect(()=>{if(x.hash){const t=x.hash.replace("#","");a?setTimeout(()=>{const o=document.getElementById(t);o&&o.scrollIntoView({inline:"start",behavior:"smooth"})},400):setTimeout(()=>{const o=document.getElementById(t);o&&o.scrollIntoView({block:"end",behavior:"smooth"})},800)}},[x,a]),m.useEffect(()=>{l!=null&&l.id&&s&&s()},[l==null?void 0:l.id,s]);const P=t=>{f(t)};return e.jsxs(e.Fragment,{children:[e.jsx(E,{}),a&&e.jsx(e.Fragment,{children:B?e.jsx("div",{style:{height:"75vh",width:"100vw",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:e.jsx("img",{src:$,alt:"Loading...",className:"loaderimg"})}):e.jsx("img",{src:R,alt:"Loading...",className:"loaderimg"})}),!a&&!i.get("store")&&e.jsx(e2,{}),!a&&((w=p==null?void 0:p.data.entries)==null?void 0:w.length)>0&&e.jsxs(e.Fragment,{children:[!d&&e.jsxs("div",{className:"pt-4 sm:pt-0",children:[!i.get("store")&&e.jsx(L,{text:"AVAILABLE STORES"}),!i.get("store")&&e.jsx("div",{className:"stores__logo grid grid-cols-4 gap-5 md:grid-cols-2 md:gap-5",children:n==null?void 0:n.data.map((t,o)=>e.jsx(D,{onClick:()=>{i.set("store",t.name),S(i),f(0)},children:e.jsx("div",{className:"partner__logo",children:e.jsx(K,{store:t.displayName})})},o))})]}),!i.get("store")&&e.jsx("hr",{className:"hr"}),!i.get("store")&&e.jsx(o2,{}),!i.get("store")&&e.jsx("hr",{className:"hr"}),e.jsx(L,{text:"Trending Products"}),!i.get("store")&&e.jsx("div",{className:"homeProductListing",children:e.jsx("ul",{className:"flex",children:["All","Amazon","Target","Walmart","Kroger"].map((t,o)=>e.jsx("li",{className:`cursor-pointer ${u===o?"active":""}`,onClick:()=>P(o),children:t},o))})}),e.jsx("div",{className:"homeTabData",children:p.data.entries.filter(t=>i.get("store")?t.store.name===i.get("store"):!0).sort((t,o)=>t.store.name===j.kroger?1:o.store.name===j.kroger?-1:0).map((t,o)=>e.jsx("div",{className:`tab-content ${u!==0&&u!==o+1?"hidden":""}`,children:e.jsx(q,{logoHeader:t.store.name,products:i.get("store")?t.products:u===0?t.products.slice(0,2):t.products.slice(0,8),scrollable:!1,layout:u===0?"flex":"grid"})},o))}),!i.get("store")&&e.jsx("hr",{className:"hr"}),!i.get("store")&&e.jsx(Y,{})]}),h&&g&&e.jsx(M,{className:"mb-4 w-full"}),!i.get("store")&&e.jsx("div",{id:"tutorial",className:"mb-12 items-center rounded-lg p-12 xl:mb-12 lg:mb-12 md:mb-12 sm:mb-0 sm:p-3",style:{borderColor:"#dcdfe0",borderWidth:"2px",backgroundColor:"#f1f1f1",width:"100%"},children:e.jsx("video",{controls:!0,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"rounded-lg",children:e.jsx("source",{src:"https://assets.stg.kartie.com/videos/kartie-tutorial.mp4"})})})]})};export{m2 as Landing,m2 as default};
